    <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IZAJ Inventory System - Complete Flowcharts</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-card: #1e293b;
            --bg-elevated: #334155;
            --accent-cyan: #06b6d4;
            --accent-emerald: #10b981;
            --accent-amber: #f59e0b;
            --accent-rose: #f43f5e;
            --accent-violet: #8b5cf6;
            --accent-blue: #3b82f6;
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --text-muted: #94a3b8;
            --border-color: #334155;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, var(--bg-primary) 0%, #1a1f2e 100%);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem 0;
            border-bottom: 2px solid var(--border-color);
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-violet));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
            font-weight: 400;
        }

        .nav-menu {
            position: sticky;
            top: 1rem;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            z-index: 100;
        }

        .nav-menu h2 {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: var(--accent-cyan);
            font-weight: 600;
        }

        .nav-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 0.75rem;
        }

        .nav-link {
            display: block;
            padding: 0.75rem 1rem;
            background: var(--bg-elevated);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-secondary);
            text-decoration: none;
            transition: all 0.2s;
            font-size: 0.9rem;
        }

        .nav-link:hover {
            background: var(--accent-cyan);
            color: var(--bg-primary);
            border-color: var(--accent-cyan);
            transform: translateY(-2px);
        }

        .section {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 3rem;
            box-shadow: var(--shadow);
            scroll-margin-top: 100px;
        }

        .section h2 {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: var(--accent-emerald);
            padding-bottom: 0.75rem;
            border-bottom: 2px solid var(--border-color);
        }

        .section h3 {
            font-size: 1.3rem;
            font-weight: 500;
            margin-top: 2rem;
            margin-bottom: 1rem;
            color: var(--accent-amber);
        }

        .mermaid {
            background: var(--bg-elevated);
            border-radius: 8px;
            padding: 2rem;
            margin: 1.5rem 0;
            overflow-x: auto;
            border: 1px solid var(--border-color);
        }

        .mermaid svg {
            max-width: 100%;
            height: auto;
        }

        .description {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            line-height: 1.8;
            font-size: 1rem;
        }

        .file-structure {
            background: var(--bg-elevated);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            color: var(--text-secondary);
            overflow-x: auto;
            white-space: pre;
            line-height: 1.8;
        }

        .file-structure .dir {
            color: var(--accent-cyan);
        }

        .file-structure .file {
            color: var(--accent-emerald);
        }

        .file-structure .comment {
            color: var(--text-muted);
        }

        footer {
            text-align: center;
            padding: 2rem 0;
            color: var(--text-muted);
            border-top: 1px solid var(--border-color);
            margin-top: 3rem;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            h1 {
                font-size: 2rem;
            }

            .nav-links {
                grid-template-columns: 1fr;
            }

            .section {
                padding: 1.5rem;
            }

            .mermaid {
                padding: 1rem;
            }
        }

        /* Smooth scroll */
        html {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>IZAJ Inventory Management System</h1>
            <p class="subtitle">Complete System Flowcharts & Documentation</p>
        </header>

        <nav class="nav-menu">
            <h2>ðŸ“‹ Navigation</h2>
            <div class="nav-links">
                <a href="#full-system-flow" class="nav-link">Full System Flow</a>
                <a href="#authentication-flow" class="nav-link">Authentication Flow</a>
                <a href="#product-request-lifecycle" class="nav-link">Product Request Lifecycle</a>
                <a href="#system-architecture" class="nav-link">System Architecture</a>
                <a href="#role-based-access" class="nav-link">Role-Based Access Control</a>
                <a href="#database-schema" class="nav-link">Database Schema</a>
                <a href="#request-review-flow" class="nav-link">Request Review Flow</a>
                <a href="#analytics-data-flow" class="nav-link">Analytics Data Flow</a>
                <a href="#notification-flow" class="nav-link">Notification Flow</a>
                <a href="#session-lifecycle" class="nav-link">Session Lifecycle</a>
                <a href="#api-endpoints" class="nav-link">API Endpoints</a>
                <a href="#file-structure" class="nav-link">File Structure</a>
            </div>
        </nav>

        <!-- Full System Flow -->
        <section id="full-system-flow" class="section">
            <h2>Full System Flow</h2>
            <p class="description">
                Complete end-to-end flow from user login through all system operations. Shows how different user roles (Super Admin, Branch Manager, Admin) access the dashboard and perform various tasks, with all actions converging to audit logs.
            </p>
            <div class="mermaid">
flowchart TD
    START([Start]) --> USER_LOGIN[User Login]

    USER_LOGIN --> LOGIN_CHECK{Login Successful?}

    LOGIN_CHECK -->|No| LOGIN_FAILED[Login Failed]
    LOGIN_FAILED --> USER_LOGIN

    LOGIN_CHECK -->|Yes| DETERMINE_TYPE{Determine User Type}

    DETERMINE_TYPE -->|Super Admin| DASHBOARD[Dashboard]
    DETERMINE_TYPE -->|Branch Manager| DASHBOARD
    DETERMINE_TYPE -->|Admin| DASHBOARD

    %% Super Admin Functions
    DASHBOARD --> CREATE_BRANCHES[Create Branches]
    CREATE_BRANCHES --> BRANCH_DATA[Branch Data]
    BRANCH_DATA --> AUDIT_LOGS

    DASHBOARD --> VIEW_STOCKS[View Stocks Per Branch]
    VIEW_STOCKS --> STOCKS_DATA[Stocks Data]
    STOCKS_DATA --> EXPORT_PRODUCTS[Export Products]
    EXPORT_PRODUCTS --> AUDIT_LOGS

    DASHBOARD --> CREATE_USERS[Create Users]
    CREATE_USERS --> USER_CREDENTIALS[User Credential and Roles]
    USER_CREDENTIALS --> AUDIT_LOGS

    %% Branch Manager Functions
    DASHBOARD --> REQUEST_STOCKS[Request Stocks]
    REQUEST_STOCKS --> REQUEST_DETAILS[Request Details]
    REQUEST_DETAILS --> APPROVE_DISAPPROVE[Approve / Disapprove Requests]
    APPROVE_DISAPPROVE --> VIEW_UPDATED[View Updated Products]
    VIEW_UPDATED --> AUDIT_LOGS

    DASHBOARD --> EOQ_ANALYTICS[EOQ Analytics]
    EOQ_ANALYTICS --> IMPORT_SALES[Import Sales]
    IMPORT_SALES --> AUDIT_LOGS

    DASHBOARD --> MANAGE_STOCKS[Manage Stocks]
    MANAGE_STOCKS --> CURRENT_STOCKS[Current Stocks]
    CURRENT_STOCKS --> IMPORT_EXPORT[Import / Export Stocks]
    IMPORT_EXPORT --> AUDIT_LOGS

    %% Admin Functions
    DASHBOARD --> ADMIN_EXPORT[Export Products]
    ADMIN_EXPORT --> AUDIT_LOGS

    %% All paths converge to Audit Logs, then can return to Dashboard or Log Out
    AUDIT_LOGS --> CONTINUE{Continue Working?}
    CONTINUE -->|Yes| DASHBOARD
    CONTINUE -->|No| LOGOUT[Log Out]
            </div>
        </section>

        <!-- Authentication Flow -->
        <section id="authentication-flow" class="section">
            <h2>Authentication Flow</h2>
            <p class="description">
                Detailed step-by-step authentication process showing how user credentials are validated, sessions are created, and authentication state is managed.
            </p>
            <div class="mermaid">
flowchart LR
    A[Login Form] --> B[Submit Credentials]
    B --> C[POST /api/login]
    C --> D[Validate Input]
    D --> E[Check Password Hash]
    E --> F[(users table)]
    F --> G{Valid?}
    G -->|Yes| H[Return user + token]
    G -->|No| I[Return error]
    H --> J[Save to AuthContext]
    I --> A
    F --> K[(audit_logs)]
            </div>
        </section>

        <!-- Product Request Lifecycle -->
        <section id="product-request-lifecycle" class="section">
            <h2>Product Request Lifecycle</h2>
            <p class="description">
                Three-stage workflow for product requests: Creation (with stock validation), Manager Review (approve/deny), and Completion (notification and audit logging).
            </p>
            <div class="mermaid">
flowchart TD
    subgraph Step1[1. CREATE REQUEST]
        A[Admin selects products] --> B[Enter quantities]
        B --> C[Choose destination branch]
        C --> D{Stock >= Requested?}
        D -->|No| E[Error: Insufficient]
        D -->|Yes| F[Reserve inventory]
        F --> G[Save requisition]
        G --> H[Email Manager]
    end

    subgraph Step2[2. MANAGER REVIEW]
        I[Manager views request] --> J{Decision}
        J -->|Deny| K[Release reserved qty]
        K --> L[Status: DENIED]
        J -->|Approve| M[Deduct source branch]
        M --> N[Add to destination]
        N --> O[Status: APPROVED]
    end

    subgraph Step3[3. COMPLETION]
        L --> P[Notify requester]
        O --> P
        P --> Q[Log audit trail]
        Q --> R[Complete]
    end

    H --> I
            </div>
        </section>

        <!-- System Architecture -->
        <section id="system-architecture" class="section">
            <h2>System Architecture</h2>
            <p class="description">
                Complete system architecture showing all layers: Client (Browser/Tauri), React Frontend, Node.js Backend, Python Analytics, and Supabase Database.
            </p>
            <div class="mermaid">
flowchart TB
    subgraph Client[Client Layer]
        USER[User Browser]
        TAURI[Tauri Desktop App]
    end

    subgraph Frontend[React Frontend]
        REACT[React + TypeScript]
        AUTH[AuthContext]
        ROUTES[Protected Routes]
        UI[Tailwind Components]
    end

    subgraph Backend[Node.js Backend]
        EXPRESS[Express Server :5000]
        MIDDLEWARE[Auth Middleware]
        VALIDATION[Input Validation]
        EMAIL[Nodemailer Service]
    end

    subgraph Analytics[Python Analytics]
        FLASK[Flask Server :5001]
        EOQ_CALC[EOQ Calculator]
        FORECAST[Demand Forecaster]
        NUMPY[NumPy/SciPy/Pandas]
    end

    subgraph Database[Supabase Database]
        POSTGRES[(PostgreSQL)]
        TABLES[Tables and Views]
        TRIGGERS[Triggers and Functions]
    end

    USER --> REACT
    TAURI --> REACT
    REACT --> AUTH
    AUTH --> ROUTES
    ROUTES --> UI

    UI --> EXPRESS
    EXPRESS --> MIDDLEWARE
    MIDDLEWARE --> VALIDATION
    VALIDATION --> EMAIL

    EXPRESS --> FLASK
    FLASK --> EOQ_CALC
    FLASK --> FORECAST
    EOQ_CALC --> NUMPY
    FORECAST --> NUMPY

    VALIDATION --> POSTGRES
    POSTGRES --> TABLES
    TABLES --> TRIGGERS
            </div>
        </section>

        <!-- Role-Based Access Control -->
        <section id="role-based-access" class="section">
            <h2>Role-Based Access Control</h2>
            <p class="description">
                Permissions matrix showing what each user role (Super Admin, Branch Manager, Admin) can access and perform within the system.
            </p>
            <div class="mermaid">
flowchart LR
    subgraph Roles[User Roles]
        SA[Super Admin]
        BM[Branch Manager]
        AD[Admin]
    end

    subgraph Permissions[Permissions]
        P1[All Branches Access]
        P2[User Management]
        P3[Product CRUD]
        P4[Approve Requests]
        P5[View Audit Logs]
        P6[Create Requests]
        P7[View Products]
    end

    SA --> P1
    SA --> P2
    SA --> P3
    SA --> P4
    SA --> P5
    SA --> P6
    SA --> P7

    BM --> P3
    BM --> P4
    BM --> P5
    BM --> P6
    BM --> P7

    AD --> P6
    AD --> P7
            </div>
        </section>

        <!-- Database Schema -->
        <section id="database-schema" class="section">
            <h2>Database Schema Relationships</h2>
            <p class="description">
                Entity-relationship diagram showing all database tables, their relationships, and key fields including primary keys (PK) and foreign keys (FK).
            </p>
            <div class="mermaid">
erDiagram
    users ||--o{ audit_logs : creates
    users ||--o{ product_requisition : creates
    users }|--|| branch : belongs_to

    branch ||--o{ centralized_product : has
    branch ||--o{ product_requisition : source
    branch ||--o{ product_requisition : destination

    category ||--o{ centralized_product : categorizes

    product_requisition ||--|{ requisition_items : contains
    centralized_product ||--o{ requisition_items : referenced_in

    product_requisition ||--o{ product_transfers : generates

    users {
        uuid id PK
        string email
        string password_hash
        string role
        uuid branch_id FK
        timestamp created_at
    }

    branch {
        uuid id PK
        string name
        string location
        boolean is_active
    }

    centralized_product {
        uuid id PK
        string name
        uuid category_id FK
        uuid branch_id FK
        decimal price
        int quantity
        int reserved_quantity
    }

    category {
        uuid id PK
        string name
        string description
    }

    product_requisition {
        uuid id PK
        uuid requester_id FK
        uuid source_branch_id FK
        uuid dest_branch_id FK
        string status
        timestamp created_at
        timestamp reviewed_at
        uuid reviewed_by FK
    }

    requisition_items {
        uuid id PK
        uuid requisition_id FK
        uuid product_id FK
        int quantity
        int reserved_qty
    }

    product_transfers {
        uuid id PK
        uuid requisition_id FK
        uuid product_id FK
        int quantity
        timestamp transferred_at
    }

    audit_logs {
        uuid id PK
        uuid user_id FK
        string action
        jsonb metadata
        timestamp created_at
    }
            </div>
        </section>

        <!-- Request Review Flow -->
        <section id="request-review-flow" class="section">
            <h2>Request Review Flow (Manager)</h2>
            <p class="description">
                Detailed workflow for managers reviewing product requests, showing both approval and denial paths with their respective actions.
            </p>
            <div class="mermaid">
flowchart TD
    START[View Pending Requests] --> REVIEW{Approve?}

    REVIEW -->|Deny| DENY_FLOW
    REVIEW -->|Approve| APPROVE_FLOW

    subgraph DENY_FLOW[Deny Flow]
        D1[Release reserved_qty] --> D2[Set status DENIED]
        D2 --> D3[Email requester]
    end

    subgraph APPROVE_FLOW[Approve Flow]
        A1[Deduct from source branch] --> A2[Add to destination branch]
        A2 --> A3[Create transfer record]
        A3 --> A4[Set status APPROVED]
        A4 --> A5[Email requester]
    end

    D3 --> LOG[(Log audit trail)]
    A5 --> LOG
    LOG --> END_STATE[Complete]
            </div>
        </section>

        <!-- Analytics Data Flow -->
        <section id="analytics-data-flow" class="section">
            <h2>Analytics Data Flow</h2>
            <p class="description">
                Data processing pipeline for EOQ calculations and demand forecasting, from CSV input through Python processing to JSON output and visualization.
            </p>
            <div class="mermaid">
flowchart LR
    subgraph Input[Input]
        SALES[Sales Data CSV]
        PARAMS[EOQ Parameters]
    end

    subgraph Processing[Python Processing]
        IMPORT[Import and Validate]
        PANDAS[Pandas DataFrame]
        CALC[Calculations]
    end

    subgraph Algorithms[Algorithms]
        EOQ_FORMULA[EOQ Formula]
        SAFETY[Safety Stock]
        REORDER[Reorder Point]
        SMOOTH[Exponential Smoothing]
    end

    subgraph Output[Output]
        JSON[JSON Response]
        CHARTS[Recharts Visualization]
    end

    SALES --> IMPORT
    PARAMS --> IMPORT
    IMPORT --> PANDAS
    PANDAS --> CALC

    CALC --> EOQ_FORMULA
    CALC --> SAFETY
    CALC --> REORDER
    CALC --> SMOOTH

    EOQ_FORMULA --> JSON
    SAFETY --> JSON
    REORDER --> JSON
    SMOOTH --> JSON
    JSON --> CHARTS
            </div>
        </section>

        <!-- Notification Flow -->
        <section id="notification-flow" class="section">
            <h2>Notification Flow</h2>
            <p class="description">
                Sequence diagram showing the complete notification workflow from request creation through manager review to final status notification.
            </p>
            <div class="mermaid">
sequenceDiagram
    participant U as User
    participant FE as Frontend
    participant BE as Backend
    participant DB as Database
    participant EM as Email Service
    participant MGR as Manager

    U->>FE: Create Product Request
    FE->>BE: POST /api/product-requests
    BE->>DB: Validate and Reserve Stock
    DB-->>BE: Success
    BE->>DB: Save Requisition
    BE->>DB: Log Audit
    BE->>EM: Send Notification
    EM-->>MGR: New Request Email
    BE-->>FE: Request Created
    FE-->>U: Success Message

    Note over MGR: Manager Reviews Request

    MGR->>FE: Approve/Deny Request
    FE->>BE: PUT /api/product-requests/:id/review
    BE->>DB: Update Stock if approved
    BE->>DB: Update Status
    BE->>DB: Log Audit
    BE->>EM: Send Notification
    EM-->>U: Request Status Email
    BE-->>FE: Review Complete
            </div>
        </section>

        <!-- Session Lifecycle -->
        <section id="session-lifecycle" class="section">
            <h2>Session Lifecycle</h2>
            <p class="description">
                State diagram showing the complete session lifecycle from unauthenticated state through authentication, active session, warning states, and logout.
            </p>
            <div class="mermaid">
stateDiagram-v2
    [*] --> Unauthenticated

    Unauthenticated --> Authenticating: Submit Login
    Authenticating --> Authenticated: Valid Credentials
    Authenticating --> Unauthenticated: Invalid Credentials

    Authenticated --> Active: Session Created
    Active --> Active: User Actions
    Active --> Warning: Session Near Expiry
    Warning --> Active: Session Refreshed
    Warning --> Expired: No Refresh

    Active --> LoggingOut: User Logout
    Expired --> Unauthenticated: Auto Logout
    LoggingOut --> Unauthenticated: Session Cleared

    Unauthenticated --> [*]
            </div>
        </section>

        <!-- API Endpoints -->
        <section id="api-endpoints" class="section">
            <h2>API Endpoints Overview</h2>
            <p class="description">
                Complete API endpoint structure organized by functional area: Authentication, Products, Requests, and Analytics.
            </p>
            <div class="mermaid">
flowchart LR
    subgraph Auth[Authentication]
        A1[POST /api/login]
        A2[POST /api/register]
        A3[POST /api/setup-account]
        A4[POST /api/forgot-password]
    end

    subgraph Products[Products]
        P1[GET /api/products]
        P2[POST /api/products]
        P3[PUT /api/products/:id]
        P4[DELETE /api/products/:id]
    end

    subgraph Requests[Requests]
        R1[GET /api/product-requests]
        R2[POST /api/product-requests]
        R3[PUT /api/product-requests/:id/review]
        R4[PUT /api/product-requests/:id/mark-arrived]
    end

    subgraph AnalyticsAPI[Analytics]
        AN1[POST /api/analytics/eoq/calculate]
        AN2[POST /api/analytics/forecast/demand]
        AN3[POST /api/analytics/inventory/health]
        AN4[GET /api/analytics/recommendations]
    end
            </div>
        </section>

        <!-- File Structure -->
        <section id="file-structure" class="section">
            <h2>File Structure</h2>
            <p class="description">
                Complete project directory structure showing the organization of React frontend, Node.js backend, Python analytics, and documentation.
            </p>
            <div class="file-structure">
IZAJ-Inventory/
â”œâ”€â”€ <span class="dir">src/</span>                          # React Frontend
â”‚   â”œâ”€â”€ <span class="dir">components/</span>
â”‚   â”‚   â”œâ”€â”€ <span class="dir">Analytics/</span>            # EOQ Dashboard
â”‚   â”‚   â”œâ”€â”€ <span class="dir">AuditLogs/</span>            # Activity logs
â”‚   â”‚   â”œâ”€â”€ <span class="dir">Auth/</span>                 # Login/Register
â”‚   â”‚   â”œâ”€â”€ <span class="dir">Branch/</span>               # Branch management
â”‚   â”‚   â”œâ”€â”€ <span class="dir">Dashboard/</span>            # Main dashboards
â”‚   â”‚   â”œâ”€â”€ <span class="dir">Notifications/</span>        # Alert system
â”‚   â”‚   â””â”€â”€ <span class="dir">Stock_Components/</span>     # Inventory UI
â”‚   â”œâ”€â”€ <span class="dir">contexts/</span>
â”‚   â”‚   â””â”€â”€ <span class="file">AuthContext.tsx</span>       # Session management
â”‚   â””â”€â”€ <span class="dir">hooks/</span>                    # Custom hooks
â”‚
â”œâ”€â”€ <span class="dir">backend/Server/</span>               # Node.js Backend
â”‚   â”œâ”€â”€ <span class="file">server.js</span>                 # Express app
â”‚   â”œâ”€â”€ <span class="file">supabase.node.js</span>          # DB client
â”‚   â”œâ”€â”€ <span class="dir">routes/</span>
â”‚   â”‚   â””â”€â”€ <span class="file">analytics.js</span>          # Flask proxy
â”‚   â””â”€â”€ <span class="dir">utils/</span>                    # Helpers
â”‚
â”œâ”€â”€ <span class="dir">analytics/</span>                    # Python Analytics
â”‚   â”œâ”€â”€ <span class="file">app.py</span>                    # Flask app
â”‚   â”œâ”€â”€ <span class="file">routes.py</span>                 # API endpoints
â”‚   â””â”€â”€ <span class="file">eoq_calculator.py</span>         # Algorithms
â”‚
â””â”€â”€ <span class="dir">docs/</span>                         # Documentation
    â””â”€â”€ <span class="file">SYSTEM_FLOWCHART_MERMAID.md</span>
            </div>
        </section>

        <footer>
            <p>IZAJ Inventory Management System - Complete Flowchart Documentation</p>
            <p style="margin-top: 0.5rem; font-size: 0.9rem;">Generated with Mermaid.js | View source at <a href="https://mermaid.live/" target="_blank" style="color: var(--accent-cyan);">mermaid.live</a></p>
        </footer>
    </div>

    <script>
        // Initialize Mermaid
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'dark',
            themeVariables: {
                primaryColor: '#06b6d4',
                primaryTextColor: '#f1f5f9',
                primaryBorderColor: '#06b6d4',
                lineColor: '#3b82f6',
                secondaryColor: '#1e293b',
                tertiaryColor: '#334155',
                background: '#1e293b',
                mainBkg: '#1e293b',
                secondBkg: '#334155',
                textColor: '#f1f5f9',
                border1: '#334155',
                border2: '#06b6d4',
                noteBkgColor: '#334155',
                noteTextColor: '#f1f5f9',
                noteBorderColor: '#06b6d4',
                actorBorder: '#06b6d4',
                actorBkg: '#1e293b',
                actorTextColor: '#f1f5f9',
                actorLineColor: '#3b82f6',
                signalColor: '#f1f5f9',
                signalTextColor: '#f1f5f9',
                labelBoxBkgColor: '#334155',
                labelBoxBorderColor: '#06b6d4',
                labelTextColor: '#f1f5f9',
                loopTextColor: '#f1f5f9',
                activationBorderColor: '#06b6d4',
                activationBkgColor: '#334155',
                sequenceNumberColor: '#f1f5f9',
                sectionBkgColor: '#334155',
                altSectionBkgColor: '#1e293b',
                sectionBorderColor: '#06b6d4',
                excludeBkgColor: '#1e293b',
                taskBorderColor: '#06b6d4',
                taskBkgColor: '#334155',
                taskTextLightColor: '#f1f5f9',
                taskTextColor: '#f1f5f9',
                taskTextDarkColor: '#f1f5f9',
                taskTextOutsideColor: '#cbd5e1',
                taskTextClickableColor: '#06b6d4',
                activeTaskBorderColor: '#10b981',
                activeTaskBkgColor: '#334155',
                gridColor: '#334155',
                doneTaskBkgColor: '#10b981',
                doneTaskBorderColor: '#10b981',
                critBorderColor: '#f43f5e',
                critBkgColor: '#1e293b',
                taskTextLightColor: '#f1f5f9',
                todayLineColor: '#f59e0b',
                labelColor: '#f1f5f9',
                errorBkgColor: '#f43f5e',
                errorTextColor: '#f1f5f9'
            },
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            },
            sequence: {
                diagramMarginX: 50,
                diagramMarginY: 10,
                actorMargin: 50,
                width: 150,
                height: 65,
                boxMargin: 10,
                boxTextMargin: 5,
                noteMargin: 10,
                messageMargin: 35,
                mirrorActors: true,
                bottomMarginAdj: 1,
                useMaxWidth: true,
                rightAngles: false,
                showSequenceNumbers: false
            },
            gantt: {
                useMaxWidth: true
            },
            er: {
                useMaxWidth: true
            },
            state: {
                useMaxWidth: true
            }
        });
    </script>
</body>
</html>